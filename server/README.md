# 3D Models Server

Серверная часть приложения для хранения и управления 3D моделями. Написана на TypeScript с использованием Express.js.

## Структура проекта

```
server/
├── src/
│   ├── data/         # Работа с данными и mock база данных
│   ├── middleware/   # Middleware компоненты (auth, validation)
│   ├── routes/       # Маршруты API
│   └── types/        # TypeScript типы и интерфейсы
├── test/             # Тесты
├── uploads/          # Директория для загруженных 3D моделей
├── thumbnails/       # Директория для миниатюр моделей
└── package.json
```

## Требования

- Node.js (версия 14 или выше)
- npm (версия 6 или выше)

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` в корневой директории сервера:
```env
PORT=3000
JWT_SECRET=your-secret-key
```

## Запуск

Для разработки:
```bash
npm run dev
```

Для production:
```bash
npm run build
npm start
```

Для запуска тестов:
```bash
npm test
```

## API Endpoints

### Аутентификация

- `POST /api/auth/register` - Регистрация нового пользователя
- `POST /api/auth/login` - Вход в систему

### 3D Модели

- `GET /api/models` - Получение списка моделей с пагинацией
- `POST /api/models` - Загрузка новой модели (требуется аутентификация)
- `GET /api/models/:id` - Получение информации о модели
- `PUT /api/models/:id` - Обновление информации о модели (требуется аутентификация)
- `DELETE /api/models/:id` - Удаление модели (требуется аутентификация)
- `POST /api/models/:id/rate` - Оценка модели (требуется аутентификация)
- `GET /api/models/search` - Поиск моделей
- `GET /api/models/top-rated` - Получение топ рейтинговых моделей

## Поддерживаемые форматы файлов

- .stl
- .obj
- .fbx
- .gltf
- .glb

## Ограничения

- Максимальный размер файла: 50MB
- Требуется аутентификация для загрузки и управления моделями
- Редактировать и удалять модели может только их владелец

## Тестирование

Проект включает автоматические тесты:
- Модульные тесты для middleware
- Интеграционные тесты для API endpoints
- Тесты аутентификации и авторизации

Для запуска тестов с покрытием:
```bash
npm run test:coverage
``` 